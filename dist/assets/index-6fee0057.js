import{r as s,a as he,b as ge}from"./react-vendor-3c8011bb.js";import{u as I,L as O,B as ue,R as be,a as M,N as re}from"./router-vendor-f23f9dff.js";import{H as pe}from"./qr-vendor-41346467.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))d(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&d(c)}).observe(document,{childList:!0,subtree:!0});function o(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function d(n){if(n.ep)return;n.ep=!0;const i=o(n);fetch(n.href,i)}})();var le={exports:{}},G={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ne=s,ve=Symbol.for("react.element"),ye=Symbol.for("react.fragment"),xe=Object.prototype.hasOwnProperty,fe=Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ke={key:!0,ref:!0,__self:!0,__source:!0};function ce(l,r,o){var d,n={},i=null,c=null;o!==void 0&&(i=""+o),r.key!==void 0&&(i=""+r.key),r.ref!==void 0&&(c=r.ref);for(d in r)xe.call(r,d)&&!ke.hasOwnProperty(d)&&(n[d]=r[d]);if(l&&l.defaultProps)for(d in r=l.defaultProps,r)n[d]===void 0&&(n[d]=r[d]);return{$$typeof:ve,type:l,key:i,ref:c,props:n,_owner:fe.current}}G.Fragment=ye;G.jsx=ce;G.jsxs=ce;le.exports=G;var Z=le.exports;const Se=Z.Fragment,e=Z.jsx,a=Z.jsxs;var z={},ae=he;z.createRoot=ae.createRoot,z.hydrateRoot=ae.hydrateRoot;const _=()=>localStorage.getItem("selectedUser"),we=l=>{localStorage.setItem("selectedUser",l)},Ce=()=>{localStorage.removeItem("selectedUser")};function Ee(){const l=I(),r=["Arya","Nurhadi","Fidini","Ahyando","Qonita"],o=d=>{we(d),l("/home",{replace:!0})};return e("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:a("div",{className:"w-full max-w-sm",children:[a("div",{className:"text-center mb-8",children:[e("div",{className:"text-4xl mb-4",children:e("img",{src:"",alt:""})}),e("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Pilih Pengguna"}),e("p",{className:"text-gray-600",children:"Silakan pilih nama Anda"})]}),e("div",{className:"space-y-3",children:r.map((d,n)=>e("button",{onClick:()=>o(d),className:"w-full big-button big-button-primary",children:d},n))}),a("div",{className:"text-center mt-8 text-sm text-gray-500",children:[e("p",{children:"Waste Data Entry App"}),e("p",{className:"mt-1",children:"Versi 1.0"})]})]})})}function Te(){const l=I(),r=_()||"Petugas";return e("div",{className:"min-h-screen bg-gray-50",children:a("div",{className:"p-4",children:[a("div",{className:"flex justify-between items-center mb-6",children:[a("div",{children:[a("h1",{className:"text-2xl font-bold text-gray-900",children:["Halo, ",r]}),e("p",{className:"text-gray-600",children:"Pilih area kerja"})]}),e("button",{onClick:()=>{Ce(),l("/login",{replace:!0})},className:"text-sm text-red-600 hover:text-red-700 px-3 py-2 rounded-lg bg-red-50 hover:bg-red-100 transition-colors",children:"Keluar"})]}),a("div",{className:"space-y-4 mb-6",children:[e(O,{to:"/ayam",className:"block w-full big-button big-button-primary",children:"üêî Area Ayam"}),e(O,{to:"/sampah",className:"block w-full big-button big-button-secondary",children:"‚ôªÔ∏è Area Sampah"}),e(O,{to:"/bsf",className:"block w-full big-button big-button-tertiary",children:"ü™± Area BSF"})]}),e("div",{className:"card",children:a("div",{className:"flex items-center justify-between",children:[a("div",{children:[e("div",{className:"text-sm font-medium text-gray-800",children:"History Entri Detail"}),e("div",{className:"text-xs text-gray-500",children:"Lihat semua entri dari semua area"})]}),e(O,{to:"/history",className:"px-3 py-2 text-xs rounded-lg bg-gray-900 text-white hover:bg-black",children:"Buka History"})]})})]})})}const de="wasteapp_entries";function $(){try{const l=localStorage.getItem(de);return l?JSON.parse(l):[]}catch(l){return console.error("Error parsing entries from storage",l),[]}}function oe(l){localStorage.setItem(de,JSON.stringify(l))}function W(l){const r=$(),o=new Date().toISOString(),d={id:`ENT-${Date.now()}-${Math.random().toString(16).slice(2)}`,createdAt:o,synced:!1,...l};return r.push(d),oe(r),d}const Pe="https://https://dev.sekolahsampah.id/api";async function Be(){const l=$(),r=l.filter(o=>!o.synced);if(r.length===0)return{success:!0,syncedCount:0};try{const o=await fetch(`${Pe}/sync.php`,{method:"POST",headers:{"Content-Type":"application/json","X-API-KEY":"SOME_SECRET_KEY"},body:JSON.stringify({entries:r})});if(!o.ok){const c=await o.text();throw new Error(c||`HTTP ${o.status}`)}const d=await o.json();if(!d.success)throw new Error(d.message||"Unknown error from server");const n=new Set(d.syncedIds||[]),i=l.map(c=>n.has(c.id)?{...c,synced:!0}:c);return oe(i),{success:!0,syncedCount:n.size}}catch(o){return console.error("Sync error:",o),{success:!1,error:o.message}}}const ee=({onScanSuccess:l,onScanError:r,onClose:o})=>{const d=s.useRef(null),n=s.useRef(null);return s.useEffect(()=>{const i="qr-reader";let c=document.getElementById(i);c||(c=document.createElement("div"),c.id=i,c.style.width="100%",c.style.height="400px",c.style.margin="0 auto",d.current.appendChild(c)),n.current=new pe(i);const g={fps:10,qrbox:{width:250,height:250}},h=(m,p)=>{l(m)},u=m=>{r(m)};return n.current.start({facingMode:"environment"},g,h,u).catch(m=>{console.error("QR Code scanning failed:",m),r(m.message)}),()=>{n.current&&n.current.isScanning&&n.current.stop().catch(m=>{console.error("Failed to stop scanner:",m)})}},[l,r]),a("div",{className:"fixed inset-0 bg-black bg-opacity-90 z-50 flex flex-col",children:[a("div",{className:"flex justify-between items-center p-4 bg-black text-white",children:[e("h2",{className:"text-lg font-semibold",children:"üì∏ Scan QR Lokasi"}),e("button",{onClick:o,className:"text-white bg-red-600 px-4 py-2 rounded-lg hover:bg-red-700 transition-colors",children:"Tutup"})]}),e("div",{className:"flex-1 flex items-center justify-center p-4",children:e("div",{ref:d,className:"w-full max-w-md"})}),a("div",{className:"p-4 bg-black text-white text-center",children:[e("p",{className:"text-sm",children:"Arahkan kamera ke kode QR lokasi"}),e("p",{className:"text-xs mt-1 text-gray-300",children:"Pastikan pencahayaan cukup"})]})]})},Q=[{id:"LOC-RUMAH-01",name:"Rumah 01"},{id:"LOC-RUMAH-02",name:"Rumah 02"},{id:"LOC-RESTO-A",name:"Resto A"},{id:"LOC-RESTO-B",name:"Resto B"},{id:"LOC-KANTIN",name:"Kantin"}];function Re(){const l=I(),r=_(),[o,d]=s.useState(""),[n,i]=s.useState(""),[c,g]=s.useState(""),[h,u]=s.useState(""),[m,p]=s.useState(0),[k,y]=s.useState(""),[w,b]=s.useState(!1),[E,t]=s.useState(""),[T,P]=s.useState(!1),[S,B]=s.useState(""),R=[{id:"sayur",label:"üå± Sayur",value:"sayur"},{id:"makanan",label:"üçõ Makanan Matang",value:"makanan"},{id:"campuran",label:"üîÅ Campuran",value:"campuran"},{id:"lainnya",label:"Lainnya",value:"lainnya"}],D=[{id:"pagi",label:"Pagi",value:"pagi"},{id:"siang",label:"Siang",value:"siang"},{id:"malam",label:"Malam",value:"malam"}],x=()=>{b(!0),t("")},C=N=>{const H=Q.find(j=>j.id===N);H?(d(H.id),i(H.name),y(H.id),b(!1),t("")):t(`Lokasi tidak ditemukan: ${N}`)},L=N=>{t(`Scan error: ${N}`),console.error("QR Scan Error:",N)},f=()=>{b(!1),t("")},F=N=>{const H=N.target.value,j=Q.find(me=>me.id===H);j&&(d(j.id),i(j.name),y(H))},v=()=>{if(!o||!c||!h||m<=0){B("Harap lengkapi semua field");return}try{const H=W({userName:r,formType:"sampah_masuk",locationId:o,locationName:n,wasteType:c,shift:h,weightKg:m});P(!0),B(""),setTimeout(()=>{d(""),i(""),g(""),u(""),p(0),y(""),P(!1),l("/home")},2e3)}catch(N){B("Gagal menyimpan entri: "+N.message)}},K=o&&c&&h&&m>0;return a("div",{className:"min-h-screen bg-gray-50",children:[e("div",{className:"page-header",children:a("div",{className:"flex justify-between items-center",children:[a("div",{children:[e("h1",{className:"page-title",children:"Sampah Masuk"}),e("p",{className:"page-subtitle",children:"Catat data sampah yang masuk"})]}),e("button",{onClick:()=>l("/home"),className:"big-button big-button-outline text-sm",children:"Batal"})]})}),a("div",{className:"p-4",children:[T&&e("div",{className:"mb-4 p-4 bg-green-100 text-green-800 rounded-lg border border-green-200",children:"‚úì Entri berhasil disimpan!"}),S&&a("div",{className:"mb-4 p-4 bg-red-100 text-red-800 rounded-lg border border-red-200",children:["‚úó ",S]}),e("div",{className:"card",children:a("div",{className:"form-group",children:[e("label",{className:"form-label",children:"üìç Lokasi"}),e("button",{onClick:x,className:"w-full big-button big-button-primary mb-3",children:"üîç Scan QR Lokasi"}),e("div",{className:"text-sm text-gray-600 mb-2",children:"atau pilih manual:"}),a("select",{value:k,onChange:F,className:"form-input",children:[e("option",{value:"",children:"Pilih lokasi..."}),Q.map(N=>a("option",{value:N.id,children:[N.name," (",N.id,")"]},N.id))]}),n&&a("div",{className:"mt-3 p-3 bg-green-50 text-green-800 rounded-lg border border-green-200",children:[e("div",{className:"font-medium",children:"Lokasi Terpilih:"}),a("div",{className:"text-sm",children:[n," (",o,")"]})]}),E&&e("div",{className:"mt-2 p-3 bg-red-50 text-red-800 rounded-lg border border-red-200",children:E})]})}),e("div",{className:"card",children:a("div",{className:"form-group",children:[e("label",{className:"form-label",children:"üóÇÔ∏è Jenis Sampah"}),e("div",{className:"grid-2",children:R.map(N=>e("button",{onClick:()=>g(N.value),className:`toggle-button ${c===N.value?"active":""}`,children:N.label},N.id))})]})}),e("div",{className:"card",children:a("div",{className:"form-group",children:[e("label",{className:"form-label",children:"‚è∞ Shift"}),e("div",{className:"grid-3",children:D.map(N=>e("button",{onClick:()=>u(N.value),className:`toggle-button ${h===N.value?"active":""}`,children:N.label},N.id))})]})}),e("div",{className:"card",children:a("div",{className:"form-group",children:[e("label",{className:"form-label",children:"‚öñÔ∏è Berat (kg)"}),a("div",{className:"slider-container",children:[a("div",{className:"weight-display",children:[m.toFixed(1)," kg"]}),e("input",{type:"range",min:"0",max:"50",step:"0.5",value:m,onChange:N=>p(parseFloat(N.target.value)),className:"w-full max-w-md"}),a("div",{className:"weight-controls",children:[e("button",{className:"weight-btn minus",onClick:()=>p(Math.max(0,m-.5)),disabled:m<=0,children:"-"}),a("span",{className:"text-lg font-semibold min-w-[100px] text-center bg-white px-4 py-2 rounded-lg border border-gray-200",children:[m.toFixed(1)," kg"]}),e("button",{className:"weight-btn plus",onClick:()=>p(Math.min(50,m+.5)),disabled:m>=50,children:"+"})]}),e("div",{className:"text-sm text-gray-600",children:"Min: 0 kg | Max: 50 kg"})]})]})}),e("div",{className:"p-4",children:e("button",{onClick:v,disabled:!K,className:`w-full big-button ${K?"big-button-primary":"bg-gray-400 text-gray-200 cursor-not-allowed"}`,children:"SIMPAN ENTRI"})})]}),w&&e(ee,{onScanSuccess:C,onScanError:L,onClose:f})]})}const U=[{id:"LOC-RUMAH-01",name:"Rumah 01"},{id:"LOC-RUMAH-02",name:"Rumah 02"},{id:"LOC-RESTO-A",name:"Resto A"},{id:"LOC-RESTO-B",name:"Resto B"},{id:"LOC-KANTIN",name:"Kantin"}],Le=[{id:"dewasa",label:"Baby BSF",value:"Baby"},{id:"pakan",label:"BSF untuk Pakan",value:"pakan"},{id:"pupa",label:"Pupa",value:"pupa"},{id:"prepupa",label:"Prepupa",value:"prepupa"}];function Oe(){const l=I(),r=_(),[o,d]=s.useState(""),[n,i]=s.useState(""),[c,g]=s.useState(""),[h,u]=s.useState(""),[m,p]=s.useState(0),[k,y]=s.useState(!1),[w,b]=s.useState(""),[E,t]=s.useState(!1),[T,P]=s.useState(""),S=()=>{y(!0),b("")},B=f=>{const F=U.find(v=>v.id===f);F?(d(F.id),i(F.name),g(F.id),y(!1),b("")):b(`Lokasi tidak ditemukan: ${f}`)},R=f=>{console.error("QR Scan Error:",f),b(`Scan error: ${f}`)},D=()=>{y(!1),b("")},x=f=>{const F=f.target.value,v=U.find(K=>K.id===F);v&&(d(v.id),i(v.name),g(F))},C=()=>{if(!o||!h||m<=0){P("Harap pilih lokasi, tipe panen, dan atur berat panen");return}try{W({userName:r,formType:"panen_maggot",locationId:o,locationName:n,harvestType:h,weightKg:m}),t(!0),P(""),setTimeout(()=>{d(""),i(""),g(""),u(""),p(0),t(!1),l("/home")},1500)}catch(f){P("Gagal menyimpan entri: "+f.message)}},L=o&&h&&m>0;return a("div",{className:"min-h-screen bg-gray-50",children:[e("div",{className:"page-header",children:a("div",{className:"flex justify-between items-center",children:[a("div",{children:[e("h1",{className:"page-title",children:"Panen Maggot"}),e("p",{className:"page-subtitle",children:"Catat berat panen maggot per tipe"})]}),e("button",{onClick:()=>l("/home"),className:"big-button big-button-outline text-sm",children:"Batal"})]})}),a("div",{className:"p-4",children:[E&&e("div",{className:"mb-4 p-4 bg-gray-100 text-gray-800 rounded-lg border border-gray-200",children:"‚úì Entri panen maggot berhasil disimpan!"}),T&&a("div",{className:"mb-4 p-4 bg-red-100 text-red-800 rounded-lg border border-red-200",children:["‚úó ",T]}),e("div",{className:"card",children:a("div",{className:"form-group",children:[e("label",{className:"form-label",children:"üìç Lokasi"}),e("button",{onClick:S,className:"w-full big-button big-button-primary mb-3",children:"üîç Scan QR Lokasi"}),e("div",{className:"text-sm text-gray-600 mb-2",children:"atau pilih manual:"}),a("select",{value:c,onChange:x,className:"form-input",children:[e("option",{value:"",children:"Pilih lokasi..."}),U.map(f=>a("option",{value:f.id,children:[f.name," (",f.id,")"]},f.id))]}),n&&a("div",{className:"mt-3 p-3 bg-gray-100 text-gray-800 rounded-lg border border-gray-200",children:[e("div",{className:"font-medium",children:"Lokasi Terpilih:"}),a("div",{className:"text-sm",children:[n," (",o,")"]})]}),w&&e("div",{className:"mt-2 p-3 bg-red-50 text-red-800 rounded-lg border border-red-200",children:w})]})}),e("div",{className:"card",children:a("div",{className:"form-group",children:[e("label",{className:"form-label",children:"üß© Tipe Panen"}),e("div",{className:"grid-2",children:Le.map(f=>e("button",{onClick:()=>u(f.value),className:`toggle-button ${h===f.value?"active":""}`,children:f.label},f.id))})]})}),e("div",{className:"card",children:a("div",{className:"form-group",children:[e("label",{className:"form-label",children:"‚öñÔ∏è Berat Panen (kg)"}),a("div",{className:"slider-container",children:[a("div",{className:"weight-display",children:[m.toFixed(1)," kg"]}),e("input",{type:"range",min:"0",max:"50",step:"0.5",value:m,onChange:f=>p(parseFloat(f.target.value))}),a("div",{className:"weight-controls",children:[e("button",{className:"weight-btn minus",onClick:()=>p(Math.max(0,m-.5)),disabled:m<=0,children:"-"}),a("span",{className:"text-sm text-gray-700",children:[m.toFixed(1)," kg"]}),e("button",{className:"weight-btn plus",onClick:()=>p(Math.min(50,m+.5)),disabled:m>=50,children:"+"})]}),e("div",{className:"text-sm text-gray-500",children:"Min: 0 kg | Max: 50 kg"})]})]})}),e("div",{className:"p-4",children:e("button",{onClick:C,disabled:!L,className:`w-full big-button ${L?"big-button-primary":"big-button-tertiary"}`,children:"SIMPAN ENTRI PANEN"})})]}),k&&e(ee,{onScanSuccess:B,onScanError:R,onClose:D})]})}const V=["A","B","C","D"],q=Array.from({length:18},(l,r)=>r+1),J=50;function Me(){const l=I(),r=_(),o=s.useMemo(()=>new Date().toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric"}),[]),[d,n]=s.useState("A"),[i,c]=s.useState(()=>{const x={};return V.forEach(C=>{q.forEach(L=>{const f=`${C}${L}`;x[f]=!1})}),x}),[g,h]=s.useState(0),[u,m]=s.useState(0),[p,k]=s.useState(!1),[y,w]=s.useState(""),b=s.useMemo(()=>Object.entries(i).filter(([x,C])=>C).map(([x])=>x),[i]),E=V.length*q.length,t=b.length,T=x=>{c(C=>({...C,[x]:!C[x]}))},P=x=>{const C=x.target.value,L=parseInt(C,10);isNaN(L)||L<0?h(0):h(L)},S=x=>{h(C=>{const L=(C||0)+x;return L<0?0:L})},B=()=>{if(t===0){w("Belum ada kandang yang ditandai bertelur");return}if(g<=0){w("Total berat telur harus lebih dari 0 gram");return}try{const x=new Date().toISOString().slice(0,10);W({userName:r,formType:"telur_harian",date:x,locationName:"Kandang Ayam",layingCages:b,totalCages:E,totalLaying:t,totalWeightGram:g,crackedEggs:u}),k(!0),w(""),setTimeout(()=>{k(!1),l("/home")},1500)}catch(x){w("Gagal menyimpan entri: "+x.message)}},R=t>0&&g>0,D=g/1e3;return a("div",{className:"min-h-screen bg-gray-50",children:[e("div",{className:"page-header",children:a("div",{className:"flex justify-between items-center",children:[a("div",{children:[e("h1",{className:"page-title",children:"Panen Telur Harian"}),e("p",{className:"page-subtitle",children:"Tap kandang yang hari ini bertelur"})]}),e("button",{onClick:()=>l("/home"),className:"big-button big-button-outline text-sm",children:"Batal"})]})}),a("div",{className:"p-4",children:[p&&e("div",{className:"mb-4 p-4 bg-gray-100 text-gray-800 rounded-lg border border-gray-200",children:"‚úì Data panen telur berhasil disimpan!"}),y&&a("div",{className:"mb-4 p-4 bg-red-100 text-red-800 rounded-lg border border-red-200",children:["‚úó ",y]}),a("div",{className:"card",children:[a("div",{className:"text-sm text-gray-600 mb-1",children:[e("span",{className:"font-medium",children:"Tanggal:"})," ",o]}),a("div",{className:"text-sm text-gray-600",children:[e("span",{className:"font-medium",children:"Kandang bertelur:"})," ",t," / ",E]})]}),a("div",{className:"card",children:[a("div",{className:"form-group",children:[e("label",{className:"form-label",children:"‚öñÔ∏è Total Berat Telur (gram)"}),a("div",{className:"weight-controls",children:[e("button",{className:"weight-btn minus",onClick:()=>S(-J),disabled:g<=0,children:"-"}),e("input",{type:"number",min:"0",className:"form-input",style:{maxWidth:"140px",textAlign:"center"},value:g,onChange:P,inputMode:"numeric"}),e("button",{className:"weight-btn plus",onClick:()=>S(J),children:"+"})]}),a("div",{className:"text-xs text-gray-500 mt-1",children:["Step: ",J," gram | Perkiraan: ",D.toFixed(2)," kg"]})]}),a("div",{className:"form-group",children:[e("label",{className:"form-label",children:"ü•ö Telur Retak"}),a("div",{className:"weight-controls",children:[e("button",{className:"weight-btn minus",onClick:()=>m(Math.max(0,u-1)),disabled:u<=0,children:"-"}),a("span",{className:"text-sm text-gray-700",children:[u," butir"]}),e("button",{className:"weight-btn plus",onClick:()=>m(u+1),children:"+"})]})]})]}),e("div",{className:"card",children:a("div",{className:"form-group",children:[e("label",{className:"form-label",children:"Blok Kandang"}),e("div",{className:"flex gap-2 mb-3",children:V.map(x=>e("button",{onClick:()=>n(x),className:`flex-1 toggle-button ${d===x?"active":""}`,children:x},x))}),a("div",{className:"text-xs text-gray-500 mb-2",children:["Pilih blok A/B/C/D, lalu tap kandang yang ",e("strong",{children:"bertelur"}),". Scroll ke samping jika nomor kandang tidak muat."]}),e("div",{className:"cage-row",children:q.map(x=>{const C=`${d}${x}`,L=i[C];return a("button",{onClick:()=>T(C),className:`cage-pill ${L?"active":""}`,children:[e("span",{className:"cage-pill-label",children:C}),L&&e("span",{className:"cage-pill-dot",children:"‚óè"})]},C)})})]})}),t>0&&a("div",{className:"card",children:[e("div",{className:"text-sm text-gray-700 mb-1 font-medium",children:"Ringkasan Cepat"}),a("div",{className:"text-xs text-gray-600",children:["Kandang bertelur: ",e("strong",{children:t})," / ",E]}),a("div",{className:"text-xs text-gray-600",children:["Total berat: ",a("strong",{children:[g," g"]})," (~",D.toFixed(2)," kg)"]}),u>0&&a("div",{className:"text-xs text-gray-600",children:["Telur retak: ",a("strong",{children:[u," butir"]})]}),a("div",{className:"text-xs text-gray-500 mt-1",children:["Contoh kandang: ",b.slice(0,12).join(", "),b.length>12&&" ..."]})]}),e("div",{className:"p-4",children:e("button",{onClick:B,disabled:!R,className:`w-full big-button ${R?"big-button-primary":"big-button-tertiary"}`,children:"SIMPAN PANEN TELUR"})})]})]})}const X=50,te=[{id:"BSF-BOX-01",name:"Box 01 - Rak 1"},{id:"BSF-BOX-02",name:"Box 02 - Rak 1"},{id:"BSF-BOX-03",name:"Box 03 - Rak 2"},{id:"BSF-BOX-04",name:"Box 04 - Rak 2"}];function Ae(){const l=I(),r=_(),o=s.useMemo(()=>new Date().toLocaleString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),[]),d=s.useMemo(()=>new Date().toISOString().slice(0,10),[]),[n,i]=s.useState(""),[c,g]=s.useState(""),[h,u]=s.useState(0),[m,p]=s.useState(!1),[k,y]=s.useState(""),w=S=>{const B=S.target.value;i(B);const R=te.find(D=>D.id===B);g(R?R.name:"")},b=S=>{const B=S.target.value,R=parseInt(B,10);isNaN(R)||R<0?u(0):u(R)},E=S=>{u(B=>{const R=(B||0)+S;return R<0?0:R})},t=()=>{if(!n){y("Harap pilih box BSF yang diberi makan");return}if(h<=0){y("Berat pakan harus lebih dari 0 gram");return}try{W({userName:r,formType:"bsf_pakan",date:d,bsfBoxId:n,bsfBoxName:c,feedWeightGram:h}),p(!0),y(""),setTimeout(()=>{p(!1),i(""),g(""),u(0),l("/bsf")},1500)}catch(S){y("Gagal menyimpan entri: "+S.message)}},T=n&&h>0,P=h/1e3;return a("div",{className:"min-h-screen bg-gray-50",children:[e("div",{className:"page-header",children:a("div",{className:"flex justify-between items-center",children:[a("div",{children:[e("h1",{className:"page-title",children:"Pakan BSF (Organik)"}),e("p",{className:"page-subtitle",children:"Catat pemberian pakan organik ke box BSF"})]}),e("button",{onClick:()=>l("/bsf"),className:"big-button big-button-outline text-sm",children:"Kembali"})]})}),a("div",{className:"p-4 space-y-4",children:[a("div",{className:"card",children:[a("div",{className:"text-sm text-gray-600 mb-1",children:[e("span",{className:"font-medium",children:"Waktu:"})," ",o]}),a("div",{className:"text-sm text-gray-600",children:[e("span",{className:"font-medium",children:"Petugas:"})," ",r||"-"]})]}),m&&e("div",{className:"card bg-gray-100 border-gray-200",children:"‚úì Data pakan BSF berhasil disimpan!"}),k&&a("div",{className:"card bg-red-50 border-red-200 text-red-800",children:["‚úó ",k]}),e("div",{className:"card",children:a("div",{className:"form-group",children:[e("label",{className:"form-label",children:"üì¶ Box / Tray BSF"}),a("select",{value:n,onChange:w,className:"form-input",children:[e("option",{value:"",children:"Pilih box BSF..."}),te.map(S=>a("option",{value:S.id,children:[S.name," (",S.id,")"]},S.id))]}),c&&a("div",{className:"mt-3 text-xs text-gray-600",children:["Box terpilih: ",e("span",{className:"font-medium",children:c})]})]})}),e("div",{className:"card",children:a("div",{className:"form-group",children:[e("label",{className:"form-label",children:"‚öñÔ∏è Berat Pakan Organik (gram)"}),a("div",{className:"weight-controls",children:[e("button",{className:"weight-btn minus",onClick:()=>E(-X),disabled:h<=0,children:"-"}),e("input",{type:"number",min:"0",className:"form-input",style:{maxWidth:"140px",textAlign:"center"},value:h,onChange:b,inputMode:"numeric"}),e("button",{className:"weight-btn plus",onClick:()=>E(X),children:"+"})]}),a("div",{className:"text-xs text-gray-500 mt-1",children:["Step: ",X," gram | Perkiraan: ",P.toFixed(2)," kg"]})]})}),T&&a("div",{className:"card",children:[e("div",{className:"text-sm text-gray-700 mb-1 font-medium",children:"Ringkasan Cepat"}),a("div",{className:"text-xs text-gray-600",children:["Box: ",e("strong",{children:c||n})]}),a("div",{className:"text-xs text-gray-600",children:["Berat pakan: ",a("strong",{children:[h," g"]})," (~",P.toFixed(2)," kg)"]})]}),e("div",{className:"p-4",children:e("button",{onClick:t,disabled:!T,className:`w-full big-button ${T?"big-button-primary":"big-button-tertiary"}`,children:"SIMPAN PAKAN BSF"})})]})]})}const ne=1;function Ie(){const l=I(),r=_(),o=s.useMemo(()=>new Date().toLocaleString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),[]),d=s.useMemo(()=>new Date().toISOString().slice(0,10),[]),[n,i]=s.useState(0),[c,g]=s.useState(!1),[h,u]=s.useState(""),m=y=>{i(w=>{const b=(w||0)+y;return b<0?0:b>200?200:b})},p=()=>{if(n<=0){u("Berat kohei harus lebih dari 0 kg");return}try{W({formType:"panen_kohei",date:d,userName:r,weightKg:n}),g(!0),u(""),setTimeout(()=>{g(!1),i(0),l("/ayam")},1500)}catch(y){u("Gagal menyimpan entri: "+y.message)}},k=n>0;return a("div",{className:"min-h-screen bg-gray-50",children:[e("div",{className:"page-header",children:a("div",{className:"flex justify-between items-center",children:[a("div",{children:[e("h1",{className:"page-title",children:"Panen Kohei Ayam"}),e("p",{className:"page-subtitle",children:"Catat panen pupuk kandang ayam"})]}),e("button",{onClick:()=>l("/ayam"),className:"big-button big-button-outline text-sm",children:"Kembali"})]})}),a("div",{className:"p-4 space-y-4",children:[a("div",{className:"card",children:[a("div",{className:"text-sm text-gray-600 mb-1",children:[e("span",{className:"font-medium",children:"Waktu:"})," ",o]}),a("div",{className:"text-sm text-gray-600",children:[e("span",{className:"font-medium",children:"Petugas:"})," ",r||"-"]})]}),c&&e("div",{className:"card bg-gray-100 border-gray-200",children:"‚úì Panen kohei berhasil disimpan!"}),h&&a("div",{className:"card bg-red-50 border-red-200 text-red-800",children:["‚úó ",h]}),e("div",{className:"card",children:a("div",{className:"form-group",children:[e("label",{className:"form-label",children:"‚öñÔ∏è Berat Kohei (kg)"}),a("div",{className:"slider-container",children:[a("div",{className:"weight-display",children:[n.toFixed(1)," kg"]}),e("input",{type:"range",min:"0",max:"200",step:"1",value:n,onChange:y=>i(parseFloat(y.target.value))}),a("div",{className:"weight-controls mt-2",children:[e("button",{className:"weight-btn minus",onClick:()=>m(-ne),disabled:n<=0,children:"-"}),a("span",{className:"text-sm text-gray-700",children:[n.toFixed(1)," kg"]}),e("button",{className:"weight-btn plus",onClick:()=>m(ne),children:"+"})]}),e("div",{className:"text-xs text-gray-500 mt-1",children:"Min: 0 kg | Max: 200 kg"})]})]})}),e("div",{className:"p-4",children:e("button",{onClick:p,disabled:!k,className:`w-full big-button ${k?"big-button-primary":"big-button-tertiary"}`,children:"SIMPAN PANEN KOHEI"})})]})]})}const Y=[{id:"LOC-RUMAH-01",name:"Rumah 01"},{id:"LOC-RUMAH-02",name:"Rumah 02"},{id:"LOC-RESTO-A",name:"Resto A"},{id:"LOC-RESTO-B",name:"Resto B"},{id:"LOC-KANTIN",name:"Kantin"}],Fe=[{id:"pagi",label:"Pagi",value:"pagi"},{id:"siang",label:"Siang",value:"siang"},{id:"malam",label:"Malam",value:"malam"}];function Ke(){const l=I(),r=_(),[o,d]=s.useState(""),[n,i]=s.useState(""),[c,g]=s.useState(""),[h,u]=s.useState(""),[m,p]=s.useState(0),[k,y]=s.useState(0),[w,b]=s.useState(!1),[E,t]=s.useState(""),[T,P]=s.useState(!1),[S,B]=s.useState(""),R=()=>{b(!0),t("")},D=v=>{const K=Y.find(N=>N.id===v);K?(d(K.id),i(K.name),g(K.id),b(!1),t("")):t(`Lokasi tidak ditemukan: ${v}`)},x=v=>{console.error("QR Scan Error:",v),t(`Scan error: ${v}`)},C=()=>{b(!1),t("")},L=v=>{const K=v.target.value,N=Y.find(H=>H.id===K);N&&(d(N.id),i(N.name),g(K))},f=()=>{if(!o||!h){B("Harap pilih lokasi dan shift");return}if(m<=0&&k<=0){B("Minimal salah satu berat (organik / non organik) harus diisi > 0");return}try{W({userName:r,formType:"sampah_terpilah",locationId:o,locationName:n,shift:h,organicKg:m,inorganicKg:k}),P(!0),B(""),setTimeout(()=>{d(""),i(""),g(""),u(""),p(0),y(0),P(!1),l("/home")},1500)}catch(v){B("Gagal menyimpan entri: "+v.message)}},F=o&&h&&(m>0||k>0);return a("div",{className:"min-h-screen bg-gray-50",children:[e("div",{className:"page-header",children:a("div",{className:"flex justify-between items-center",children:[a("div",{children:[e("h1",{className:"page-title",children:"Sampah Terpilah"}),e("p",{className:"page-subtitle",children:"Catat berat organik dan non organik dari satu lokasi"})]}),e("button",{onClick:()=>l("/home"),className:"big-button big-button-outline text-sm",children:"Batal"})]})}),a("div",{className:"p-4",children:[T&&e("div",{className:"mb-4 p-4 bg-gray-100 text-gray-800 rounded-lg border border-gray-200",children:"‚úì Data sampah terpilah berhasil disimpan!"}),S&&a("div",{className:"mb-4 p-4 bg-red-100 text-red-800 rounded-lg border border-red-200",children:["‚úó ",S]}),e("div",{className:"card",children:a("div",{className:"form-group",children:[e("label",{className:"form-label",children:"üìç Lokasi"}),e("button",{onClick:R,className:"w-full big-button big-button-primary mb-3",children:"üîç Scan QR Lokasi"}),e("div",{className:"text-sm text-gray-600 mb-2",children:"atau pilih manual:"}),a("select",{value:c,onChange:L,className:"form-input",children:[e("option",{value:"",children:"Pilih lokasi..."}),Y.map(v=>a("option",{value:v.id,children:[v.name," (",v.id,")"]},v.id))]}),n&&a("div",{className:"mt-3 p-3 bg-gray-100 text-gray-800 rounded-lg border border-gray-200",children:[e("div",{className:"font-medium",children:"Lokasi Terpilih:"}),a("div",{className:"text-sm",children:[n," (",o,")"]})]}),E&&e("div",{className:"mt-2 p-3 bg-red-50 text-red-800 rounded-lg border border-red-200",children:E})]})}),e("div",{className:"card",children:a("div",{className:"form-group",children:[e("label",{className:"form-label",children:"‚è∞ Shift Pilah"}),e("div",{className:"grid-3",children:Fe.map(v=>e("button",{onClick:()=>u(v.value),className:`toggle-button ${h===v.value?"active":""}`,children:v.label},v.id))})]})}),e("div",{className:"card",children:a("div",{className:"form-group",children:[e("label",{className:"form-label",children:"üå± Berat Organik (kg)"}),a("div",{className:"slider-container",children:[a("div",{className:"weight-display",children:[m.toFixed(1)," kg"]}),e("input",{type:"range",min:"0",max:"50",step:"0.5",value:m,onChange:v=>p(parseFloat(v.target.value))}),e("div",{className:"text-sm text-gray-500",children:"Min: 0 kg | Max: 50 kg"})]})]})}),e("div",{className:"card",children:a("div",{className:"form-group",children:[e("label",{className:"form-label",children:"üß± Berat Non Organik (kg)"}),a("div",{className:"slider-container",children:[a("div",{className:"weight-display",children:[k.toFixed(1)," kg"]}),e("input",{type:"range",min:"0",max:"50",step:"0.5",value:k,onChange:v=>y(parseFloat(v.target.value))}),e("div",{className:"text-sm text-gray-500",children:"Min: 0 kg | Max: 50 kg"})]})]})}),e("div",{className:"p-4",children:e("button",{onClick:f,disabled:!F,className:`w-full big-button ${F?"big-button-primary":"big-button-tertiary"}`,children:"SIMPAN SAMPAH TERPILAH"})})]}),w&&e(ee,{onScanSuccess:D,onScanError:x,onClose:C})]})}function _e(){const l=_(),[r,o]=s.useState([]),[d,n]=s.useState(!0),[i,c]=s.useState(!1),[g,h]=s.useState("");s.useEffect(()=>{u()},[]);const u=()=>{n(!0);try{const T=($()||[]).sort((P,S)=>new Date(S.createdAt||0)-new Date(P.createdAt||0));o(T)}catch(t){console.error("Error loading entries:",t)}finally{n(!1)}},m=async()=>{c(!0),h("");try{const t=await Be();t.success?(h(`‚úì Berhasil sinkron ${t.syncedCount} entri`),u()):h(`‚úó Gagal sinkron: ${t.error}`)}catch(t){h(`‚úó Gagal sinkron: ${t.message}`)}finally{c(!1)}},p=t=>({sampah_masuk:"Sampah Masuk",panen_maggot:"Panen Maggot",telur_harian:"Panen Telur Harian",sampah_terpilah:"Sampah Terpilah"})[t]||"Umum",k=t=>t?new Date(t).toLocaleString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-",y=t=>t?{sayur:"üå± Sayur",makanan:"üçõ Makanan Matang",campuran:"üîÅ Campuran",lainnya:"Lainnya"}[t]||t:"-",w=t=>t?{pagi:"Pagi",siang:"Siang",malam:"Malam"}[t]||t:"-",b=t=>t?{dewasa:"BSF Dewasa",pakan:"BSF untuk Pakan",pupa:"Pupa",prepupa:"Prepupa"}[t]||t:"-",E=t=>!t||!t.layingCages?null:{totalLaying:t.totalLaying||t.layingCages.length,totalCages:t.totalCages||72};return a("div",{className:"min-h-screen bg-gray-50",children:[e("div",{className:"page-header",children:a("div",{className:"flex justify-between items-center",children:[a("div",{children:[e("h1",{className:"page-title",children:"Riwayat Entri"}),e("p",{className:"page-subtitle",children:"Data yang telah dicatat di lapangan"})]}),e(O,{to:"/home",className:"big-button big-button-outline text-sm",children:"Kembali"})]})}),a("div",{className:"p-4",children:[a("div",{className:"card mb-4",children:[a("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[e("button",{onClick:m,disabled:i,className:`px-6 py-3 rounded-lg font-medium ${i?"bg-gray-400 text-gray-200 cursor-not-allowed":"bg-gray-900 text-white hover:bg-black"}`,children:i?"Menyinkronkan...":"üîÑ Sinkron Data"}),a("div",{className:"text-sm text-gray-600",children:["Total: ",r.length," entri | Belum sinkron: ",r.filter(t=>!t.synced).length]})]}),g&&e("div",{className:`mt-3 p-3 rounded-lg text-center ${g.includes("Gagal")?"bg-red-100 text-red-800 border border-red-200":"bg-green-100 text-green-800 border border-green-200"}`,children:g})]}),d?e("div",{className:"text-center py-8 text-gray-500",children:"Memuat data..."}):r.length===0?a("div",{className:"text-center py-8 text-gray-500",children:[e("div",{className:"text-4xl mb-4",children:"üìã"}),e("p",{children:"Belum ada entri"}),e("p",{className:"text-sm mt-2",children:"Mulai catat data di lapangan"})]}):e("div",{className:"space-y-3",children:r.map(t=>{var T,P;return a("div",{className:"bg-white p-4 rounded-lg shadow-sm border",children:[a("div",{className:"flex justify-between items-start mb-1",children:[a("div",{className:"flex-1",children:[e("div",{className:"font-semibold text-gray-900 text-lg",children:k(t.createdAt)}),e("div",{className:"mt-1 inline-flex px-2 py-1 text-xs rounded-full bg-gray-100 text-gray-700 border border-gray-200",children:p(t.formType)})]}),!t.synced&&a("div",{className:"flex items-center ml-2",children:[e("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),e("span",{className:"ml-1 text-xs text-red-600",children:"Belum"})]})]}),a("div",{className:"mt-2 text-sm text-gray-600 mb-1",children:[e("span",{className:"font-medium",children:"Lokasi:"})," ",t.locationName||t.locationId||"-"]}),t.formType==="telur_harian"&&t.layingCages&&a("div",{className:"text-sm text-gray-600 mb-1",children:[e("span",{className:"font-medium",children:"Kandang bertelur:"})," ",(T=E(t))==null?void 0:T.totalLaying," / ",(P=E(t))==null?void 0:P.totalCages,a("div",{className:"text-xs text-gray-500 mt-1",children:[t.layingCages.slice(0,12).join(", "),t.layingCages.length>12&&" ..."]})]}),t.harvestType&&a("div",{className:"text-sm text-gray-600 mb-1",children:[e("span",{className:"font-medium",children:"Tipe:"})," ",b(t.harvestType)]}),t.wasteType&&a("div",{className:"text-sm text-gray-600 mb-1",children:[e("span",{className:"font-medium",children:"Jenis:"})," ",y(t.wasteType)]}),t.formType==="sampah_terpilah"&&a("div",{className:"text-sm text-gray-600 mb-1",children:[e("span",{className:"font-medium",children:"Organik:"})," ",t.organicKg||0," kg",e("span",{className:"ml-2 font-medium",children:"Non Organik:"})," ",t.inorganicKg||0," kg"]}),a("div",{className:"text-sm text-gray-600",children:[t.shift&&a(Se,{children:[e("span",{className:"font-medium",children:"Shift:"})," ",w(t.shift),e("span",{className:"mx-1",children:"|"})]}),e("span",{className:"font-medium",children:"Berat:"})," ",t.weightKg," kg"]}),a("div",{className:"text-xs text-gray-500 mt-2",children:["Petugas: ",t.userName||l||"-"]})]},t.id)})})]})]})}const se=1;function De(){const l=I(),r=_(),o=s.useMemo(()=>new Date().toLocaleString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),[]),d=s.useMemo(()=>new Date().toISOString().slice(0,10),[]),[n,i]=s.useState(0),[c,g]=s.useState(""),[h,u]=s.useState(!1),[m,p]=s.useState(""),k=b=>{i(E=>{const t=(E||0)+b;return t<0?0:t>200?200:t})},y=()=>{if(!c){p("Harap isi sumber kasgot (dari mana)");return}if(n<=0){p("Berat kasgot harus lebih dari 0 kg");return}try{W({formType:"panen_kasgot",date:d,userName:r,weightKg:n,source:c}),u(!0),p(""),setTimeout(()=>{u(!1),i(0),g(""),l("/bsf")},1500)}catch(b){p("Gagal menyimpan entri: "+b.message)}},w=n>0&&!!c;return a("div",{className:"min-h-screen bg-gray-50",children:[e("div",{className:"page-header",children:a("div",{className:"flex justify-between items-center",children:[a("div",{children:[e("h1",{className:"page-title",children:"Panen Kasgot"}),e("p",{className:"page-subtitle",children:"Catat panen kasgot (frass BSF)"})]}),e("button",{onClick:()=>l("/bsf"),className:"big-button big-button-outline text-sm",children:"Kembali"})]})}),a("div",{className:"p-4 space-y-4",children:[a("div",{className:"card",children:[a("div",{className:"text-sm text-gray-600 mb-1",children:[e("span",{className:"font-medium",children:"Waktu:"})," ",o]}),a("div",{className:"text-sm text-gray-600",children:[e("span",{className:"font-medium",children:"Petugas:"})," ",r||"-"]})]}),h&&e("div",{className:"card bg-gray-100 border-gray-200",children:"‚úì Panen kasgot berhasil disimpan!"}),m&&a("div",{className:"card bg-red-50 border-red-200 text-red-800",children:["‚úó ",m]}),e("div",{className:"card",children:a("div",{className:"form-group",children:[e("label",{className:"form-label",children:"üìç Dari mana (bed/box/lokasi)"}),e("input",{type:"text",className:"form-input",placeholder:"Contoh: Bed Kompos 1, Box BSF 03",value:c,onChange:b=>g(b.target.value)})]})}),e("div",{className:"card",children:a("div",{className:"form-group",children:[e("label",{className:"form-label",children:"‚öñÔ∏è Berat Kasgot (kg)"}),a("div",{className:"slider-container",children:[a("div",{className:"weight-display",children:[n.toFixed(1)," kg"]}),e("input",{type:"range",min:"0",max:"200",step:"1",value:n,onChange:b=>i(parseFloat(b.target.value))}),a("div",{className:"weight-controls mt-2",children:[e("button",{className:"weight-btn minus",onClick:()=>k(-se),disabled:n<=0,children:"-"}),a("span",{className:"text-sm text-gray-700",children:[n.toFixed(1)," kg"]}),e("button",{className:"weight-btn plus",onClick:()=>k(se),children:"+"})]}),e("div",{className:"text-xs text-gray-500 mt-1",children:"Min: 0 kg | Max: 200 kg"})]})]})}),e("div",{className:"p-4",children:e("button",{onClick:y,disabled:!w,className:`w-full big-button ${w?"big-button-primary":"big-button-tertiary"}`,children:"SIMPAN PANEN KASGOT"})})]})]})}const ie=1;function He(){const l=I(),r=_(),o=s.useMemo(()=>new Date().toLocaleString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),[]),d=s.useMemo(()=>new Date().toISOString().slice(0,10),[]),[n,i]=s.useState(0),[c,g]=s.useState(""),[h,u]=s.useState(!1),[m,p]=s.useState(""),k=b=>{i(E=>{const t=(E||0)+b;return t<0?0:t>200?200:t})},y=()=>{if(!c){p("Harap isi lokasi/bed pupuk");return}if(n<=0){p("Berat pupuk harus lebih dari 0 kg");return}try{W({formType:"pupuk_sisa_organik",date:d,userName:r,weightKg:n,place:c}),u(!0),p(""),setTimeout(()=>{u(!1),i(0),g(""),l("/bsf")},1500)}catch(b){p("Gagal menyimpan entri: "+b.message)}},w=n>0&&!!c;return a("div",{className:"min-h-screen bg-gray-50",children:[e("div",{className:"page-header",children:a("div",{className:"flex justify-between items-center",children:[a("div",{children:[e("h1",{className:"page-title",children:"Pupuk dari Sisa Organik"}),e("p",{className:"page-subtitle",children:"Catat jumlah sampah organik yang tidak dimakan maggot dan menjadi pupuk"})]}),e("button",{onClick:()=>l("/bsf"),className:"big-button big-button-outline text-sm",children:"Kembali"})]})}),a("div",{className:"p-4 space-y-4",children:[a("div",{className:"card",children:[a("div",{className:"text-sm text-gray-600 mb-1",children:[e("span",{className:"font-medium",children:"Waktu:"})," ",o]}),a("div",{className:"text-sm text-gray-600",children:[e("span",{className:"font-medium",children:"Petugas:"})," ",r||"-"]})]}),h&&e("div",{className:"card bg-gray-100 border-gray-200",children:"‚úì Data pupuk dari sisa organik berhasil disimpan!"}),m&&a("div",{className:"card bg-red-50 border-red-200 text-red-800",children:["‚úó ",m]}),e("div",{className:"card",children:a("div",{className:"form-group",children:[e("label",{className:"form-label",children:"üìç Lokasi / Bed Pupuk"}),e("input",{type:"text",className:"form-input",placeholder:"Contoh: Bed Pupuk 1, Tumpukan Kompos A",value:c,onChange:b=>g(b.target.value)})]})}),e("div",{className:"card",children:a("div",{className:"form-group",children:[e("label",{className:"form-label",children:"‚öñÔ∏è Berat Pupuk (kg)"}),a("div",{className:"slider-container",children:[a("div",{className:"weight-display",children:[n.toFixed(1)," kg"]}),e("input",{type:"range",min:"0",max:"200",step:"1",value:n,onChange:b=>i(parseFloat(b.target.value))}),a("div",{className:"weight-controls mt-2",children:[e("button",{className:"weight-btn minus",onClick:()=>k(-ie),disabled:n<=0,children:"-"}),a("span",{className:"text-sm text-gray-700",children:[n.toFixed(1)," kg"]}),e("button",{className:"weight-btn plus",onClick:()=>k(ie),children:"+"})]}),e("div",{className:"text-xs text-gray-500 mt-1",children:"Min: 0 kg | Max: 200 kg"})]})]})}),e("div",{className:"p-4",children:e("button",{onClick:y,disabled:!w,className:`w-full big-button ${w?"big-button-primary":"big-button-tertiary"}`,children:"SIMPAN DATA PUPUK"})})]})]})}function We(){const l=I(),{todayCount:r,todayWeightGram:o}=s.useMemo(()=>{const n=$()||[],i=new Date().toISOString().slice(0,10),c=n.filter(h=>h.formType==="telur_harian"&&h.date===i),g=c.reduce((h,u)=>h+(u.totalWeightGram||0),0);return{todayCount:c.length,todayWeightGram:g}},[]),d=o/1e3;return a("div",{className:"min-h-screen bg-gray-50",children:[e("div",{className:"page-header",children:a("div",{className:"flex justify-between items-center",children:[a("div",{children:[e("h1",{className:"page-title",children:"Area Ayam"}),e("p",{className:"page-subtitle",children:"Pantau panen telur harian"})]}),e("button",{onClick:()=>l("/home"),className:"big-button big-button-outline text-sm",children:"Home"})]})}),a("div",{className:"p-4 space-y-4",children:[a("div",{className:"card",children:[e("h2",{className:"font-semibold text-gray-900 mb-2 text-sm",children:"Ringkasan Hari Ini"}),a("div",{className:"grid-2",children:[a("div",{className:"text-center p-3 bg-gray-100 rounded-lg",children:[e("div",{className:"text-xs text-gray-500",children:"Entri Telur"}),e("div",{className:"text-xl font-bold text-gray-900",children:r})]}),a("div",{className:"text-center p-3 bg-gray-100 rounded-lg",children:[e("div",{className:"text-xs text-gray-500",children:"Total Berat"}),a("div",{className:"text-xl font-bold text-gray-900",children:[o," g"]}),a("div",{className:"text-[10px] text-gray-500",children:["‚âà ",d.toFixed(2)," kg"]})]})]})]}),a("div",{className:"card",children:[e("h2",{className:"font-semibold text-gray-900 mb-3 text-sm",children:"Input Data"}),a("div",{className:"space-y-3",children:[e(O,{to:"/telur-harian",className:"block w-full big-button big-button-primary",children:"ü•ö Panen Telur Harian"}),e(O,{to:"/panen-kohei",className:"block w-full big-button big-button-secondary",children:"üí© Panen Kohei Ayam"})]})]}),e("div",{className:"card",children:a("div",{className:"flex items-center justify-between",children:[e("div",{className:"text-xs text-gray-600",children:"Butuh lihat detail per hari / kandang?"}),e(O,{to:"/history",className:"px-3 py-2 text-xs rounded-lg bg-gray-900 text-white hover:bg-black",children:"Buka History"})]})})]})]})}function $e(){const l=I(),{masukKg:r,organikKg:o,nonOrganikKg:d}=s.useMemo(()=>{const n=$()||[],i=new Date().toISOString().slice(0,10);let c=0,g=0,h=0;return n.forEach(u=>{((u.createdAt?u.createdAt.slice(0,10):null)===i||u.date===i)&&(u.formType==="sampah_masuk"&&(c+=u.weightKg||0),u.formType==="sampah_terpilah"&&(g+=u.organicKg||0,h+=u.inorganicKg||0))}),{masukKg:c,organikKg:g,nonOrganikKg:h}},[]);return a("div",{className:"min-h-screen bg-gray-50",children:[e("div",{className:"page-header",children:a("div",{className:"flex justify-between items-center",children:[a("div",{children:[e("h1",{className:"page-title",children:"Area Sampah"}),e("p",{className:"page-subtitle",children:"Pantau sampah masuk & terpilah"})]}),e("button",{onClick:()=>l("/home"),className:"big-button big-button-outline text-sm",children:"Home"})]})}),a("div",{className:"p-4 space-y-4",children:[a("div",{className:"card",children:[e("h2",{className:"font-semibold text-gray-900 mb-2 text-sm",children:"Ringkasan Hari Ini"}),a("div",{className:"grid-3",children:[a("div",{className:"text-center p-3 bg-gray-100 rounded-lg",children:[e("div",{className:"text-xs text-gray-500",children:"Sampah Masuk"}),a("div",{className:"text-xl font-bold text-gray-900",children:[r.toFixed(1)," kg"]})]}),a("div",{className:"text-center p-3 bg-gray-100 rounded-lg",children:[e("div",{className:"text-xs text-gray-500",children:"Organik"}),a("div",{className:"text-xl font-bold text-gray-900",children:[o.toFixed(1)," kg"]})]}),a("div",{className:"text-center p-3 bg-gray-100 rounded-lg",children:[e("div",{className:"text-xs text-gray-500",children:"Non Organik"}),a("div",{className:"text-xl font-bold text-gray-900",children:[d.toFixed(1)," kg"]})]})]})]}),a("div",{className:"card",children:[e("h2",{className:"font-semibold text-gray-900 mb-3 text-sm",children:"Input Data"}),a("div",{className:"space-y-3",children:[e(O,{to:"/sampah-masuk",className:"block w-full big-button big-button-primary",children:"üì• Input Sampah Masuk"}),e(O,{to:"/sampah-terpilah",className:"block w-full big-button big-button-secondary",children:"‚ôªÔ∏è Input Sampah Terpilah"})]})]}),e("div",{className:"card",children:a("div",{className:"flex items-center justify-between",children:[e("div",{className:"text-xs text-gray-600",children:"Butuh lihat detail per lokasi / shift?"}),e(O,{to:"/history",className:"px-3 py-2 text-xs rounded-lg bg-gray-900 text-white hover:bg-black",children:"Buka History"})]})})]})]})}function je(){const l=I(),{panenCount:r,panenTotalKg:o}=s.useMemo(()=>{const d=$()||[],n=new Date().toISOString().slice(0,10),i=d.filter(g=>g.formType==="panen_maggot"&&(!g.date||g.date.slice(0,10)===n||g.createdAt&&g.createdAt.slice(0,10)===n)),c=i.reduce((g,h)=>g+(h.weightKg||0),0);return{panenCount:i.length,panenTotalKg:c}},[]);return a("div",{className:"min-h-screen bg-gray-50",children:[e("div",{className:"page-header",children:a("div",{className:"flex justify-between items-center",children:[a("div",{children:[e("h1",{className:"page-title",children:"Area BSF"}),e("p",{className:"page-subtitle",children:"Pantau panen maggot & siklus BSF"})]}),e("button",{onClick:()=>l("/home"),className:"big-button big-button-outline text-sm",children:"Home"})]})}),a("div",{className:"p-4 space-y-4",children:[a("div",{className:"card",children:[e("h2",{className:"font-semibold text-gray-900 mb-2 text-sm",children:"Ringkasan Hari Ini"}),a("div",{className:"grid-2",children:[a("div",{className:"text-center p-3 bg-gray-100 rounded-lg",children:[e("div",{className:"text-xs text-gray-500",children:"Entri Panen"}),e("div",{className:"text-xl font-bold text-gray-900",children:r})]}),a("div",{className:"text-center p-3 bg-gray-100 rounded-lg",children:[e("div",{className:"text-xs text-gray-500",children:"Total Panen"}),a("div",{className:"text-xl font-bold text-gray-900",children:[o.toFixed(1)," kg"]})]})]})]}),a("div",{className:"card",children:[e("h2",{className:"font-semibold text-gray-900 mb-3 text-sm",children:"Input Data"}),a("div",{className:"space-y-3",children:[e(O,{to:"/panen-maggot",className:"block w-full big-button big-button-primary",children:"ü™± Input Panen Maggot"}),e(O,{to:"/bsf-pakan",className:"block w-full big-button big-button-secondary",children:"‚ôªÔ∏è Input Pakan BSF (Organik)"}),e(O,{to:"/panen-kasgot",className:"block w-full big-button big-button-tertiary",children:"üß™ Panen Kasgot"}),e(O,{to:"/sisa-organik-pupuk",className:"block w-full big-button big-button-tertiary",children:"üå± Pupuk dari Sisa Organik"})]})]}),e("div",{className:"card",children:a("div",{className:"flex items-center justify-between",children:[e("div",{className:"text-xs text-gray-600",children:"Butuh lihat detail panen per lokasi / tipe?"}),e(O,{to:"/history",className:"px-3 py-2 text-xs rounded-lg bg-gray-900 text-white hover:bg-black",children:"Buka History"})]})})]})]})}function A({children:l}){return _()?l:e(re,{to:"/login",replace:!0})}function Ge(){return e("div",{className:"app",children:e(ue,{children:a(be,{children:[e(M,{path:"/login",element:e(Ee,{})}),e(M,{path:"/home",element:e(A,{children:e(Te,{})})}),e(M,{path:"/ayam",element:e(A,{children:e(We,{})})}),e(M,{path:"/panen-kohei",element:e(A,{children:e(Ie,{})})}),e(M,{path:"/sampah",element:e(A,{children:e($e,{})})}),e(M,{path:"/bsf",element:e(A,{children:e(je,{})})}),e(M,{path:"/panen-kasgot",element:e(A,{children:e(De,{})})}),e(M,{path:"/bsf-pakan",element:e(A,{children:e(Ae,{})})}),e(M,{path:"/sisa-organik-pupuk",element:e(A,{children:e(He,{})})}),e(M,{path:"/sampah-masuk",element:e(A,{children:e(Re,{})})}),e(M,{path:"/sampah-terpilah",element:e(A,{children:e(Ke,{})})}),e(M,{path:"/panen-maggot",element:e(A,{children:e(Oe,{})})}),e(M,{path:"/telur-harian",element:e(A,{children:e(Me,{})})}),e(M,{path:"/history",element:e(A,{children:e(_e,{})})}),e(M,{path:"*",element:e(re,{to:"/home",replace:!0})})]})})})}z.createRoot(document.getElementById("root")).render(e(ge.StrictMode,{children:e(Ge,{})}));
